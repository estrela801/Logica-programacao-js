<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercício 5</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Anta&display=swap"
      rel="stylesheet"
    />
    <!-- <link rel="stylesheet" href="../Styles/reset.css">
    <link rel="stylesheet" href="../Styles/estilotriangulo.css" />
    <link rel="stylesheet" href="../Styles/styles.css"> -->
    <script src="/Scripts/estilos.js" defer></script>
    <script src="/Scripts/responsividade.js" defer></script>
  </head>
  <body>
    <button type="button" class="btn-responsividade"></button>
    <h1>Posto de gasolina</h1>
    <table>
      <tr>
        <td>Álcool</td>
      </tr>
      <tr>
        <td>Até 20 litros</td>
        <td>3% de desconto</td>
      </tr>
      <tr>
        <td>Acima de 20 litros</td>
        <td>5% de desconto</td>
      </tr>
    </table>
    <table>
      <tr>
        <td>Gasolina</td>
      </tr>
      <tr>
        <td>Até 20 litros</td>
        <td>4% de desconto</td>
      </tr>
      <tr>
        <td>Acima de 20 litros</td>
        <td>6% de desconto</td>
      </tr>
    </table>
    <form action="">
      <label for="gasolina">Quantos litros de gasolina:</label>
      <input type="text" id="gasolina" />
      <br />
      <label for="alcool">Quantidade de litros de alcool:</label>
      <input type="text" id="alcool" />
      <p>Clique no botão limpar para voltar ao estado inicial</p>

      <div class="container-butao">
        <button type="button" id="calcular">Calcular</button>
        <button type="button" id="limpar">Limpar</button>
      </div>

      <p id="resultado"></p>
    </form>
  </body>
  <script>
  document.querySelector("#gasolina").addEventListener("focus", () => {
    document.querySelector('label[for="alcool"]').style.display = "none";
    document.querySelector("#alcool").style.display = "none";
  });

  // esconde os valores para tratamento de erros
  document.querySelector("#alcool").addEventListener("focus", () => {
    document.querySelector('label[for="gasolina"]').style.display = "none";
    document.querySelector("#gasolina").style.display = "none";
  });

  function DescontoGasolina(gasolina) {
    let msgGasolina;

    if (gasolina >= 20) {
      msgGasolina = gasolina - gasolina * (4 / 100);
    } else {
      msgGasolina = gasolina - gasolina * (6 / 100);
    }

    document.querySelector("#resultado").innerHTML = `Valor a pagar = ${msgGasolina.toFixed(2)}`;
  }

  function DescontoAlcool(alcool) {
    let msgAlcool;
    if (alcool > 20) {
      msgAlcool = alcool - alcool * (3 / 100);
    } else {
      msgAlcool = alcool - alcool * (5 / 100);
    }
    document.querySelector("#resultado").innerHTML = `Valor a pagar = ${msgAlcool.toFixed(2)}`;
  }

  document.querySelector("#calcular").addEventListener("click", () => {
    const gasolina = parseFloat(document.querySelector("#gasolina").value) || 0;
    const alcool = parseFloat(document.querySelector("#alcool").value) || 0;

    if (gasolina > 0) {
      DescontoGasolina(gasolina);
    } else if (alcool > 0) {
      DescontoAlcool(alcool);
    } else {
      document.querySelector("#resultado").innerHTML = "Por favor, insira um valor válido.";
    }
  });

  // retorna os inputs
  document.querySelector("#limpar").addEventListener("click", () => {
    document.querySelector("#gasolina").value = "";
    document.querySelector("#alcool").value = "";
    document.querySelector("#resultado").innerHTML = "";

    document.querySelector('label[for="alcool"]').style.display = "inline";
    document.querySelector("#alcool").style.display = "inline";
    document.querySelector('label[for="gasolina"]').style.display = "inline";
    document.querySelector("#gasolina").style.display = "inline";
  });
</script>

  <script src="../Scripts/navbar.js"></script>
</html>
